# 重复的子字符串

LeetCode：459

给一个字符串，判断是不是由重复的子串形成

## 暴力解法

1. 外循环获取子串的结束位置
2. 里循环拿子串与主串进行比较

时间复杂度O(n^2)

---

## 移动匹配

对字符串s：abcabc

前一部分和后一部分一定是相等的

如果字符串是重复的，那么两个字符串拼接起来：abc|abcabc|abc，前字符串的后面部分能与后字符串的前面部分组成这个字符串

因此我们可以在s+s中匹配s（要把首元素和尾元素去掉，以免匹配到相加的s）

过程

* 对于s，s+s获得一个新的字符串ss
* 去掉ss的首尾元素，`ss.erase`
* 查看ss中包不包含s，`ss.find(s)`

对于 xa+b+ya

两个重叠为：xa+b+(x+y)a+b+ya

去掉首尾元素为：(x-1)a+b+(x+y)a+b+(y-1)a

若要在其中存在xa+b+ya，即(x-1)a+b+(x+y)a+b+(y-1)a = z(xa+b+ya)

整理得：



## KMP解法

对于s：abababab

**如果由重复子串组成，它的最小重复单位就是它的最长相等前后缀不包含的那个子串**

为什么？

* 对于s的最长相等前后缀

  ​             abababab

  前缀t：ababab

  后缀f：     ababab

  有(t0=f0，t1=f1)==>s01=s23 

  同理可得s23=s45=s67

1. 求出s字符串的next数组
2. 原字符串长度，减去最长相等前后缀的长度
3. 如果上面的结果能被原字符串长度整除，则说明这个字符串由重复的子串组成

