# 逆波兰表达式求值

LeetCode：150

## 什么是逆波兰表达式

一种后缀表达式

（1+2）×（3+4）中序表达式

后续表达式就是中序表达式的二叉树的后序遍历

12+34+x

后续表达式分别计算机处理



## 如何使用栈来计算

栈的计算过程

* 遇到数字加入到栈中
* 遇到操作符从栈中取数数字进行操作后再加入栈中

遍历

* 1入栈
* 2入栈
* +号，从栈口取出两个元素2、1，进行操作，得到3，入栈
* 3入栈
* 4入栈
* +号，取出4、3，进行操作，得到7，入栈
* ×号，取出7、3，进行操作，得到21，入栈
* 后缀表达式的最后结果就是栈中的最后一个元素



## 代码实现

1. 定义一个栈
2. 遍历字符串
3. 遇见数字，入栈，遇见操作符，取出两个数字进行操作，再入栈

stoll：将字符串类型转变为longlong类型

```c++
stack<int> st;

for(i=0;i<s.size;i++){
    if(s[i]=='+'||s[i]=='-'||s[i]=='×'||s[i]=='÷'){
     	num1=st.top();st.pop();
        num2=st.top();st.top();
        if(s[i]=='+') 	st.push(num1+num2);
        if(s[i]=='-')	st.push(num1-num2);
        if(s[i]=='×')	st.push(num1×num2);
        else			st.push(num1/num2);
    }
	else st.push(stoll(s[i]))
}

int result = st.top();
st.pop();

return result;
```



## 总结

擅长相邻字符消除操作